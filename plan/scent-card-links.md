# 功能規劃：香氛卡片加入產品連結

**日期**：2025-11-16
**狀態**：規劃中

---

## 功能概述

在測驗結果頁面的香氛推薦卡片中，為每個香氛產品加入「查看更多」連結按鈕，讓使用者可以直接前往產品頁面了解詳情或購買。

**目的**：
- 提供使用者更方便的產品資訊存取路徑
- 增加產品頁面的流量和轉換率
- 提升使用者體驗的完整性

**預期效果**：
- 使用者可以點擊「查看更多」按鈕前往對應的香氛產品頁面
- 連結在新分頁開啟，不干擾測驗結果頁面

---

## 影響範圍

**會修改的檔案**：
- `js/data/plants.js` - 在每個植物的 scent 資料中加入產品連結
- `js/ui.js` - 在 renderScents() 方法中加入連結按鈕
- `css/style.css` - 新增「查看更多」按鈕樣式

**會新增的檔案**：無

---

## 實作步驟

### 步驟 1：更新植物資料結構

在 `js/data/plants.js` 中，為每個植物類型的 scent 物件加入 `link` 欄位。

**三個產品連結**：
- 夜和 (Peaceful Night): https://www.fami.tw/ml1UW
- 朝光 (Light of Dawn): https://www.fami.tw/ToICP
- 暖居 (Warm Place): https://www.fami.tw/cUMjj

**產品對應關係**：
- `lavender` (薰衣草型) - similar: 夜和, balance: 朝光
- `cypress` (扁柏型) - similar: 夜和, balance: 暖居
- `hinoki` (檜木型) - similar: 暖居, balance: 朝光
- `chamomile` (洋甘菊型) - similar: 暖居, balance: 夜和
- `mint` (薄荷葉型) - similar: 朝光, balance: 暖居
- `peony` (牡丹型) - similar: 朝光, balance: 夜和

### 步驟 2：更新 UI 渲染邏輯

在 `js/ui.js` 的 `renderScents()` 方法中：
- 在 scent-text 之後加入「查看更多」連結按鈕
- 使用 `<a>` 標籤，設定 `href`、`target="_blank"` 和 `rel="noopener noreferrer"`
- 檢查 link 是否存在才顯示按鈕（向後相容性）

### 步驟 3：新增 CSS 樣式

在 `css/style.css` 中新增：
- `.scent-link` - 連結按鈕基礎樣式
- `.scent-link:hover` - 滑鼠懸停效果
- 響應式調整（手機版）

**設計方向**：
- 使用品牌配色（森林綠色調）
- 清楚的視覺層級，不干擾主要內容
- 觸控友善的按鈕尺寸（至少 44×44px）

---

## 資料結構變更

### plants.js - scent 物件

**修改前**：
```javascript
scent: {
    similar: {
        name: "夜和 Peaceful Night",
        text: "偏涼、偏安定的香氣座標，像夜裡那口真正吐出的長長嘆息。"
    },
    balance: {
        name: "朝光 Light of Dawn",
        text: "當你想讓自己從過度安靜中稍微打開一點，朝光就像清晨的窗縫。"
    }
}
```

**修改後**：
```javascript
scent: {
    similar: {
        name: "夜和 Peaceful Night",
        text: "偏涼、偏安定的香氣座標，像夜裡那口真正吐出的長長嘆息。",
        link: "https://www.fami.tw/ml1UW"
    },
    balance: {
        name: "朝光 Light of Dawn",
        text: "當你想讓自己從過度安靜中稍微打開一點，朝光就像清晨的窗縫。",
        link: "https://www.fami.tw/ToICP"
    }
}
```

---

## 測試計畫

### 測試項目

1. **功能測試**：
   - [ ] 每種植物類型的香氛連結都正確對應
   - [ ] 點擊「查看更多」按鈕能正確開啟新分頁
   - [ ] 連結在新分頁開啟，不影響原頁面
   - [ ] 檢查所有六種植物類型的連結

2. **相容性測試**：
   - [ ] 桌面瀏覽器（Chrome, Firefox, Safari, Edge）
   - [ ] 行動裝置（iOS Safari, Android Chrome）
   - [ ] 按鈕在小螢幕上可點擊且不誤觸

3. **視覺測試**：
   - [ ] 按鈕樣式符合品牌風格
   - [ ] 懸停效果流暢自然
   - [ ] 在不同螢幕尺寸下排版正常

4. **回歸測試**：
   - [ ] 確認香氛卡片其他資訊顯示正常
   - [ ] 確認整體測驗流程未受影響

---

## 潛在風險

- **風險 1：連結失效**
  - 描述：產品連結可能因商品下架或網址變更而失效
  - 因應方式：建議定期檢查連結有效性，或在資料結構中加入「是否顯示連結」的開關

- **風險 2：連結過多影響版面**
  - 描述：在小螢幕上可能造成資訊過載
  - 因應方式：採用簡潔的按鈕設計，並確保適當的間距和字體大小

- **風險 3：使用者流失**
  - 描述：使用者點擊連結後可能不會回到測驗結果頁面
  - 因應方式：使用 `target="_blank"` 在新分頁開啟，保留原頁面

---

## UI/UX 建議

### 按鈕文案
- 主要文案：「查看更多」或「了解更多」
- 可考慮加入圖示（如 →）增加視覺引導

### 樣式建議
- 按鈕採用輕量設計，避免過於醒目而搶走主要內容焦點
- 建議使用品牌次要色彩（如 #8b7355）
- 邊框或底線設計比填滿背景更適合此情境
- 懸停時加入微妙的顏色變化和位移效果

### 位置建議
- 放置在 scent-text 之後、卡片底部
- 靠右對齊或置中，保持視覺平衡

---

## 其他注意事項

1. **安全性**：所有外部連結都應加入 `rel="noopener noreferrer"` 防止安全性問題

2. **可維護性**：連結資訊集中在 plants.js 資料檔案中，未來修改連結只需更新此檔案

3. **擴充性**：此設計可輕鬆擴充到其他卡片類型（如關係植物卡片）

4. **無障礙**：確保連結有適當的 aria-label 或文字說明，讓螢幕閱讀器使用者也能理解
